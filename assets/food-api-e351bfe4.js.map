{"version":3,"file":"food-api-e351bfe4.js","sources":["../../src/js/services/helpers.js","../../src/js/services/food-api.js"],"sourcesContent":["import Swal from 'sweetalert2';\n\n// ТУТ ПИШЕ ТІЛЬКИ МАКС\nexport function saveToLS(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nexport function loadFromLS(key) {\n  const data = localStorage.getItem(key);\n\n  try {\n    return JSON.parse(data);\n  } catch {\n    Notify.failure('Oops! Something went wrong...');\n    return data;\n  }\n}\n\nexport function createParams(parameters) {\n  const { keyword, category, page, limit, ...rest } = parameters;\n  const checkedSortBy = Object.keys(rest).length;\n\n  const params = new URLSearchParams({\n    page,\n    limit,\n  });\n\n  if (keyword) {\n    params.set('keyword', keyword);\n  }\n\n  if (category) {\n    params.set('category', category);\n  }\n\n  if (checkedSortBy) {\n    const [sortBy, state] = Object.entries(rest)[0];\n    params.set(sortBy, state);\n  }\n\n  return params;\n}\n\nexport function updateBasket(LOCALSTORAGE_KEY, currentProduct, basket) {\n  const index = basket.findIndex(product => product._id === currentProduct._id);\n  index !== -1 ? basket.splice(index, 1) : basket.push(currentProduct);\n\n  saveToLS(LOCALSTORAGE_KEY, basket);\n}\n\nexport function editText(someText) {\n  return someText.replaceAll('_', ' ');\n}\n\nexport function showError() {\n  Swal.fire({\n    icon: 'error',\n    title: 'Oops...',\n    text: 'Something went wrong!',\n  });\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader-container');\n  loader.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader-container');\n\n  setTimeout(() => loader.classList.add('is-hidden'), 300);\n}\n","// ТУТ ПИШЕ ТІЛЬКИ МАКС\nimport axios from 'axios';\nimport { createParams } from './helpers';\n\naxios.defaults.baseURL = 'https://food-boutique.b.goit.study/api';\n\nexport const getCategoryList = async () => {\n  const { data } = await axios.get(`/products/categories`);\n\n  return data;\n};\n\nexport const getCurrentProducts = async parameters => {\n  const params = createParams(parameters);\n\n  const { data } = await axios.get(`/products/`, { params });\n\n  return data;\n};\n\nexport const getProductById = async id => {\n  const { data } = await axios.get(`/products/${id}`);\n\n  return data;\n};\n\nexport const getPopularProducts = async limit => {\n  const { data } = await axios.get(`/products/popular?limit=${limit}`);\n\n  return data;\n};\n\nexport const getDiscountProducts = async () => {\n  const { data } = await axios.get(`/products/discount`);\n\n  return data;\n};\n\nexport const addOrder = async body => {\n  const { data } = await axios.post(`/orders`, body);\n\n  return data;\n};\n\nexport const addEmail = async body => {\n  const { data } = await axios.post(`/subscription`, body);\n\n  return data;\n};\n"],"names":["saveToLS","key","value","loadFromLS","data","createParams","parameters","keyword","category","page","limit","rest","checkedSortBy","params","sortBy","state","updateBasket","LOCALSTORAGE_KEY","currentProduct","basket","index","product","showError","Swal","showLoader","hideLoader","loader","axios","getCategoryList","getCurrentProducts","getPopularProducts","getDiscountProducts","addOrder","body"],"mappings":"ivBAGO,SAASA,EAASC,EAAKC,EAAO,CACnC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACjD,CAEO,SAASC,EAAWF,EAAK,CAC9B,MAAMG,EAAO,aAAa,QAAQH,CAAG,EAErC,GAAI,CACF,OAAO,KAAK,MAAMG,CAAI,CAC1B,MAAI,CACA,cAAO,QAAQ,+BAA+B,EACvCA,CACR,CACH,CAEO,SAASC,EAAaC,EAAY,CACvC,KAAM,CAAE,QAAAC,EAAS,SAAAC,EAAU,KAAAC,EAAM,MAAAC,KAAUC,CAAM,EAAGL,EAC9CM,EAAgB,OAAO,KAAKD,CAAI,EAAE,OAElCE,EAAS,IAAI,gBAAgB,CACjC,KAAAJ,EACA,MAAAC,CACJ,CAAG,EAUD,GARIH,GACFM,EAAO,IAAI,UAAWN,CAAO,EAG3BC,GACFK,EAAO,IAAI,WAAYL,CAAQ,EAG7BI,EAAe,CACjB,KAAM,CAACE,EAAQC,CAAK,EAAI,OAAO,QAAQJ,CAAI,EAAE,GAC7CE,EAAO,IAAIC,EAAQC,CAAK,CACzB,CAED,OAAOF,CACT,CAEO,SAASG,EAAaC,EAAkBC,EAAgBC,EAAQ,CACrE,MAAMC,EAAQD,EAAO,UAAUE,GAAWA,EAAQ,MAAQH,EAAe,GAAG,EAC5EE,IAAU,GAAKD,EAAO,OAAOC,EAAO,CAAC,EAAID,EAAO,KAAKD,CAAc,EAEnElB,EAASiB,EAAkBE,CAAM,CACnC,CAMO,SAASG,GAAY,CAC1BC,EAAK,KAAK,CACR,KAAM,QACN,MAAO,UACP,KAAM,uBACV,CAAG,CACH,CAEO,SAASC,GAAa,CACZ,SAAS,cAAc,mBAAmB,EAClD,UAAU,OAAO,WAAW,CACrC,CAEO,SAASC,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,mBAAmB,EAEzD,WAAW,IAAMA,EAAO,UAAU,IAAI,WAAW,EAAG,GAAG,CACzD,CCnEAC,EAAM,SAAS,QAAU,yCAEb,MAACC,EAAkB,SAAY,CACzC,KAAM,CAAE,KAAAxB,CAAI,EAAK,MAAMuB,EAAM,IAAI,sBAAsB,EAEvD,OAAOvB,CACT,EAEayB,EAAqB,MAAMvB,GAAc,CACpD,MAAMO,EAASR,EAAaC,CAAU,EAEhC,CAAE,KAAAF,GAAS,MAAMuB,EAAM,IAAI,aAAc,CAAE,OAAAd,CAAM,CAAE,EAEzD,OAAOT,CACT,EAQa0B,EAAqB,MAAMpB,GAAS,CAC/C,KAAM,CAAE,KAAAN,CAAM,EAAG,MAAMuB,EAAM,IAAI,2BAA2BjB,GAAO,EAEnE,OAAON,CACT,EAEa2B,EAAsB,SAAY,CAC7C,KAAM,CAAE,KAAA3B,CAAI,EAAK,MAAMuB,EAAM,IAAI,oBAAoB,EAErD,OAAOvB,CACT,EAEa4B,EAAW,MAAMC,GAAQ,CACpC,KAAM,CAAE,KAAA7B,CAAM,EAAG,MAAMuB,EAAM,KAAK,UAAWM,CAAI,EAEjD,OAAO7B,CACT"}