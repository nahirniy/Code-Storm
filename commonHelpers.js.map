{"version":3,"file":"commonHelpers.js","sources":["../src/js/modals/modal-order/modal-order.js","../src/js/cart-content/order-products/order-products.js"],"sourcesContent":["import { saveToLS } from '../../services/helpers';\n\nexport function modalOrder() {\n  const modalBackdropOrder = document.querySelector(\".modal-backdrop-order\");\n  const modalOrder = document.querySelector(\".modal-order\");\n\n  modalBackdropOrder.classList.remove(\"is-hidden\");\n  modalOrder.classList.remove(\"is-hidden\");\n\n}\nconst modalOrderClose = document.querySelector(\".modal-order-close\");\nmodalOrderClose.addEventListener(\"click\", (event) => {\n  const modalBackdropOrder = document.querySelector(\".modal-backdrop-order\");\n  const modalOrder = document.querySelector(\".modal-order\");\n  modalBackdropOrder.classList.add(\"is-hidden\");\n  modalOrder.classList.add(\"is-hidden\");\n\n  const LOCALSTORAGE_KEY = 'basket';\n  saveToLS(LOCALSTORAGE_KEY, []);\n  document.querySelector(\".order-products-sum\").textContent = \"$0.00\";\n} );\n\n","import { modalOrder } from \"../../modals/modal-order/modal-order\";\nimport { addOrder } from \"../../services/food-api\";\nimport { Notify } from \"notiflix\";\nimport { loadFromLS } from '../../services/helpers';\n\nconst LOCALSTORAGE_KEY = 'basket';\nconst basket = loadFromLS(LOCALSTORAGE_KEY) ?? [];\nconst basketSum = basket.reduce((sum, product) => sum + product.price, 0);\nconst orderProductsSum = document.querySelector(\".order-products-sum\");\norderProductsSum.textContent = `$${String(basketSum.toFixed(2))}`;\n\nconst orderForm = document.querySelector('.order-products-form');\norderForm.addEventListener('submit', (event) => {\n  event.preventDefault();\n  const emailInput = event.target.querySelector('#email');\n  const email = emailInput.value;\n\n  console.log('Order Details:');\n  console.log('Email:', email);\n  const orderProducts = basket.map(product => {\n    return {\n      productId: product._id,\n      amount: product.price\n    }\n  });\n\n  addOrder({\n    email: email, products: orderProducts\n  })\n    .then(() => {\n      modalOrder();\n    })\n    .catch(error => {\n\n    })\n\n  orderForm.reset();\n});\n"],"names":["modalOrder","modalBackdropOrder","modalOrderClose","event","saveToLS","LOCALSTORAGE_KEY","basket","loadFromLS","basketSum","sum","product","orderProductsSum","orderForm","email","orderProducts","addOrder","error"],"mappings":"oGAEO,SAASA,GAAa,CAC3B,MAAMC,EAAqB,SAAS,cAAc,uBAAuB,EACnED,EAAa,SAAS,cAAc,cAAc,EAExDC,EAAmB,UAAU,OAAO,WAAW,EAC/CD,EAAW,UAAU,OAAO,WAAW,CAEzC,CACA,MAAME,EAAkB,SAAS,cAAc,oBAAoB,EACnEA,EAAgB,iBAAiB,QAAUC,GAAU,CACnD,MAAMF,EAAqB,SAAS,cAAc,uBAAuB,EACnED,EAAa,SAAS,cAAc,cAAc,EACxDC,EAAmB,UAAU,IAAI,WAAW,EAC5CD,EAAW,UAAU,IAAI,WAAW,EAGpCI,EADyB,SACE,CAAA,CAAE,EAC7B,SAAS,cAAc,qBAAqB,EAAE,YAAc,OAC9D,CAAG,ECfH,MAAMC,EAAmB,SACnBC,EAASC,EAAWF,CAAgB,GAAK,GACzCG,EAAYF,EAAO,OAAO,CAACG,EAAKC,IAAYD,EAAMC,EAAQ,MAAO,CAAC,EAClEC,EAAmB,SAAS,cAAc,qBAAqB,EACrEA,EAAiB,YAAc,IAAI,OAAOH,EAAU,QAAQ,CAAC,CAAC,IAE9D,MAAMI,EAAY,SAAS,cAAc,sBAAsB,EAC/DA,EAAU,iBAAiB,SAAWT,GAAU,CAC9CA,EAAM,eAAc,EAEpB,MAAMU,EADaV,EAAM,OAAO,cAAc,QAAQ,EAC7B,MAEzB,QAAQ,IAAI,gBAAgB,EAC5B,QAAQ,IAAI,SAAUU,CAAK,EAC3B,MAAMC,EAAgBR,EAAO,IAAII,IACxB,CACL,UAAWA,EAAQ,IACnB,OAAQA,EAAQ,KACjB,EACF,EAEDK,EAAS,CACP,MAAOF,EAAO,SAAUC,CAC5B,CAAG,EACE,KAAK,IAAM,CACVd,GACN,CAAK,EACA,MAAMgB,GAAS,CAEpB,CAAK,EAEHJ,EAAU,MAAK,CACjB,CAAC"}