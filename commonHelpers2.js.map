{"version":3,"file":"commonHelpers2.js","sources":["../src/js/services/food-api.js","../src/js/home-content/main-products/main-products.js"],"sourcesContent":["// ТУТ ПИШЕ ТІЛЬКИ МАКС\nimport axios from 'axios';\nimport { createParams } from './helpers';\n\naxios.defaults.baseURL = 'https://food-boutique.b.goit.study/api';\n\nexport const getCategoryList = async () => {\n  const { data } = await axios.get(`/products/categories`);\n\n  return data;\n};\n\nexport const getCurrentProducts = async parameters => {\n  const params = createParams(parameters);\n\n  const { data } = await axios.get(`/products/`, { params });\n\n  return data;\n};\n\nexport const getProductById = async id => {\n  const { data } = await axios.get(`/products/${id}`);\n\n  return data;\n};\n\nexport const getPopularProducts = async limit => {\n  const { data } = await axios.get(`/products/popular?limit=${limit}`);\n\n  return data;\n};\n\nexport const getDiscountProducts = async () => {\n  const { data } = await axios.get(`/products/discount`);\n\n  return data;\n};\n\nexport const addOrder = async body => {\n  const { data } = await axios.post(`/orders`, body);\n\n  return data;\n};\n\nexport const addEmail = async body => {\n  const { data } = await axios.post(`/subscription`, body);\n\n  return data;\n};\n","import { getCurrentProducts } from '../../services/food-api';\nimport {\n  markupInfoMainProduct,\n  mainProductMarkup,\n} from './markup-main-product';\n\nconst inputWord = document.querySelector('input');\nconst btnSubmit = document.querySelector('.btn-submit');\nconst productList = document.querySelector('.product-list');\nconst productItem = document.querySelector('.photo-card');\nlet searchWord = '';\nlet page = 1;\nlet limit = 6;\nlet totalPages = 0;\n\n/*-------------------------CHECK LIMIT(WIDTH SCRENN--------------------*/\n\nfunction addClickEventIfInRange() {\n  let rezice = window.innerWidth;\n\n  if (rezice <= 375) {\n    limit = 6;\n  } else if (rezice >= 375 && rezice <= 768) {\n    limit = 8;\n  } else {\n    limit = 9;\n  }\n}\n\naddClickEventIfInRange();\n\nwindow.addEventListener('resize', function (event) {\n  addClickEventIfInRange();\n});\n/*-----------------------------QUERY DATA WITH EVENT SUBMIT---------------------------*/\n// btnSubmit.addEventListener('click', handleClick);\n\nasync function handleClick(event) {\n  event.preventDefault();\n  searchWord = inputWord.value.trim();\n\n  try {\n    const searchObjects = await getCurrentProducts({\n      keyword: null,\n      category: null,\n      page: 1,\n      limit: limit,\n      byABC: false,\n    });\n    let results = searchObjects.results;\n    let arrayLength = results.length;\n    totalPages = searchObjects.totalPages;\n\n    if (arrayLength > 0) {\n      productItem.innerHTML = '';\n      productItem.insertAdjacentHTML('beforeend', mainProductMarkup(results));\n      const basketIcons = document.querySelectorAll('.svg-basket');\n      basketIcons.forEach(icon => {\n        icon.addEventListener('click', handleClickBasket);\n      });\n    } else {\n      productItem.innerHTML = '';\n      const infoMessage = markupInfoMainProduct();\n      productItem.insertAdjacentHTML('beforeend', infoMessage);\n    }\n    clickIconBasket();\n  } catch (error) {\n    console.error(error);\n  }\n}\n/*---------------ADD EVENT FOR ALL ICONS---------------------*/\nfunction clickIconBasket() {\n  const basketIcons = document.querySelectorAll('.svg-basket');\n  basketIcons.forEach(icon => {\n    icon.addEventListener('click', handleClickBasket);\n  });\n}\n\n/*---------------------HANDLE CLICK BASKET--------------------*/\nfunction handleClickBasket(event) {\n  const clickedItem = event.currentTarget.closest('.resp-item');\n  if (clickedItem) {\n    const itemName = clickedItem.querySelector('.name-product').textContent;\n    const itemPrice = clickedItem.querySelector('.price-product').textContent;\n    const basketItem = { name: itemName, price: itemPrice };\n    localStorage.setItem(itemName, JSON.stringify(basketItem));\n\n    const basketIcon = clickedItem.querySelector('.href-icon');\n    if (basketIcon) {\n      basketIcon.setAttribute('href', `${sprite}#icon-checkmark`);\n    }\n  }\n}\n"],"names":["axios","event"],"mappings":"oFAIAA,EAAM,SAAS,QAAU,yCCEP,SAAS,cAAc,OAAO,EAC9B,SAAS,cAAc,aAAa,EAClC,SAAS,cAAc,eAAe,EACtC,SAAS,cAAc,aAAa,EAsBxD,OAAO,iBAAiB,SAAU,SAAUC,EAAO,CAEnD,CAAC"}