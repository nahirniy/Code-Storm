{"version":3,"file":"commonHelpers2.js","sources":["../src/js/services/helpers.js","../src/js/services/food-api.js","../src/img/icons/sprite.svg","../src/js/home-content/main-products/markup-main-product.js","../src/js/home-content/main-products/main-products.js"],"sourcesContent":["// ТУТ ПИШЕ ТІЛЬКИ МАКС\nimport { Notify } from 'notiflix';\n\nexport function saveToLS(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nexport function loadFromLS(key) {\n  const data = localStorage.getItem(key);\n\n  try {\n    return JSON.parse(data);\n  } catch {\n    Notify.failure('Oops! Something went wrong...');\n    return data;\n  }\n}\n\nexport function createParams(parameters) {\n  const { keyword, category, page, limit, ...rest } = parameters;\n  const checkedSortBy = Object.keys(rest).length;\n\n  const params = new URLSearchParams({\n    page,\n    limit,\n  });\n\n  if (keyword) {\n    params.set('keyword', keyword);\n  }\n\n  if (category) {\n    params.set('category', category);\n  }\n\n  if (checkedSortBy) {\n    const [sortBy, state] = Object.entries(rest)[0];\n    params.set(sortBy, state);\n  }\n\n  return params;\n}\n","// ТУТ ПИШЕ ТІЛЬКИ МАКС\nimport axios from 'axios';\nimport { createParams } from './helpers';\n\naxios.defaults.baseURL = 'https://food-boutique.b.goit.study/api';\n\nexport const getCategoryList = async () => {\n  const { data } = await axios.get(`/products/categories`);\n\n  return data;\n};\n\nexport const getCurrentProducts = async parameters => {\n  const params = createParams(parameters);\n\n  const { data } = await axios.get(`/products/`, { params });\n\n  return data;\n};\n\nexport const getProductById = async id => {\n  const { data } = await axios.get(`/products/${id}`);\n\n  return data;\n};\n\nexport const getPopularProducts = async limit => {\n  const { data } = await axios.get(`/products/popular?limit=${limit}`);\n\n  return data;\n};\n\nexport const getDiscountProducts = async () => {\n  const { data } = await axios.get(`/products/discount`);\n\n  return data;\n};\n\nexport const addOrder = async body => {\n  const { data } = await axios.post(`/orders`, body);\n\n  return data;\n};\n\nexport const addEmail = async body => {\n  const { data } = await axios.post(`/subscription`, body);\n\n  return data;\n};\n","export default \"__VITE_ASSET__4192010f__\"","import sprite from '../../../img/icons/sprite.svg'\n\n/*--------------------------------CHECK IF ARRAY IS CLEAR----------------------------*/\nexport function markupInfoMainProduct() {\n  \n  return `<div class=\"info-query\">\n                <h3 class=\"info-text\">Nothing was found for the selected <span class=\"info-word\">filters...</span></h3>\n                <p class=\"info-message\">Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you.</p>\n              </div>`;\n  \n}\n\n/*-----------------------------------MARKUP----------------------------*/\nexport function mainProductMarkup(results) {\n  return results\n    .map((item) => {\n      let formattedCategory = removeUnderscore(item.category);\n      \n      return `<li class=\"resp-item\">\n        <a class=\"img-link\" href=\"${item.img}\">\n          <img class=\"photo\" src=\"${item.img}\" alt=\"${item.name}\" loading=\"lazy\"/>\n        </a>\n        <h2 class=\"name-product\">${item.name}</h2>\n        <div class=\"descr-product\">\n          <p class=\"category-product\"><span class=\"style-word\">Category:</span>${formattedCategory}</p>\n          <p class=\"size-product\"><span class=\"style-word\">Size:</span>${item.size}</p>\n          <p class=\"popular-product\"><span class=\"style-word\">Popularity:</span>${item.popularity}</p>\n        </div>\n        <div class=\"footer-product_card\">\n          <p class=\"price-product\">$${item.price}</p>\n          <svg class=\"svg-basket\" width=\"34\" height=\"34\">\n            <use class=\"href-icon\" href=\"${sprite}#icon-basket\"></use>\n          </svg>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\nfunction removeUnderscore(text) {\n  return text.replace(/_/g, ' '); \n}","import { getCurrentProducts } from '../../services/food-api';\nimport { markupInfoMainProduct, mainProductMarkup } from './markup-main-product';\n\nconst inputWord = document.querySelector('input')\nconst btnSubmit = document.querySelector('.btn-submit')\nconst productList = document.querySelector('.product-list')\nconst productItem = document.querySelector('.photo-card')\nlet searchWord = ''\nlet page = 1\nlet limit = 6\nlet totalPages = 0\n\n/*-------------------------CHECK LIMIT(WIDTH SCRENN--------------------*/\n\nfunction addClickEventIfInRange() {\n  let rezice = window.innerWidth;\n\n  if (rezice <= 375) {\n   limit = 6\n  } else if (rezice >= 375 && rezice <= 768) {\n    limit = 8\n  } else {\n    limit = 9\n  }\n}\n\naddClickEventIfInRange();\n\nwindow.addEventListener('resize', function (event) {\n  addClickEventIfInRange();\n});\n/*-----------------------------QUERY DATA WITH EVENT SUBMIT---------------------------*/\nbtnSubmit.addEventListener('click', handleClick);\n\nasync function handleClick(event) {\n  event.preventDefault();\n    searchWord = inputWord.value.trim();\n    \n  try {\n    const searchObjects = await getCurrentProducts({keyword:null, category: null, page: 1, limit: limit, byABC: false});\n    let results = searchObjects.results; \n    let arrayLength = results.length;\n    totalPages = searchObjects.totalPages\n\n    if (arrayLength > 0) {\n      productItem.innerHTML = '';\n      productItem.insertAdjacentHTML(\"beforeend\", mainProductMarkup(results));\n      const basketIcons = document.querySelectorAll('.svg-basket');\n      basketIcons.forEach((icon) => {\n        icon.addEventListener('click', handleClickBasket);\n      });\n    } else {\n      productItem.innerHTML = '';\n       const infoMessage = markupInfoMainProduct();\n      productItem.insertAdjacentHTML(\"beforeend\", infoMessage);\n    }\n    clickIconBasket()\n\n  } catch (error) {\n    console.error(error);\n  }\n}\n/*---------------ADD EVENT FOR ALL ICONS---------------------*/\nfunction clickIconBasket() {\n  const basketIcons = document.querySelectorAll('.svg-basket');\n  basketIcons.forEach((icon) => {\n    icon.addEventListener('click', handleClickBasket);\n  });\n}\n\n\n/*---------------------HANDLE CLICK BASKET--------------------*/\nfunction handleClickBasket(event) {\n  const clickedItem = event.currentTarget.closest('.resp-item');\n  if (clickedItem) {\n    const itemName = clickedItem.querySelector('.name-product').textContent;\n    const itemPrice = clickedItem.querySelector('.price-product').textContent;\n    const basketItem = { name: itemName, price: itemPrice };\n    localStorage.setItem(itemName, JSON.stringify(basketItem));\n\n   \n    const basketIcon = clickedItem.querySelector('.href-icon');\n    if (basketIcon) {\n      basketIcon.setAttribute('href', `${sprite}#icon-checkmark`);\n    }\n  } \n}\n"],"names":["createParams","parameters","keyword","category","page","limit","rest","checkedSortBy","params","sortBy","state","axios","getCurrentProducts","data","sprite$1","markupInfoMainProduct","mainProductMarkup","results","item","formattedCategory","removeUnderscore","sprite","text","inputWord","btnSubmit","productItem","totalPages","addClickEventIfInRange","rezice","event","handleClick","searchObjects","arrayLength","icon","handleClickBasket","infoMessage","clickIconBasket","error","clickedItem","itemName","itemPrice","basketItem","basketIcon"],"mappings":"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"}